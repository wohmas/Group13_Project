# Intro: 
This project aims to find the potential bias in letter of recommendations generated by Chatgpt for different ethnic and gender groups of   people. The project consist of three ipynb files and some data files.

# Project.ipynb: 
For the data preprocessing, we used first names with their associated gender and last names with their associated ethnicity from the US   census to form a dataset of 600 fullnames that are evenly distrubuted among different gender and ethnicity groups. We then ask Chatgpt's api to generate 600 letters for each of the fullnames. The letters are then putted into the TF-IDF model to generate scores for each  unique terms (unigram, bigram, and trigram) for each responses. We calculated the term freqeuncy with those scores in each ethnic and gender group and put them back with their corresponding races and gender to form a new dataset. The dataset for each of three n-grams are grouped into different datasets by different ethnicity and gender. With this dataset, we could finally generate the stacked horizontal bar graphs. Everything below the stacked horizontal bar graphs are the visualizations that we tried and decided not to use for intepretations for this project. 

To run the file, just simply run each module from top to bottom. Note: please don't uncomment the section that calls the Chatgpt api as it will take 10 hours to retrieve responses. To see what the responses are, please look at the chatGPT_responses

# Project-Bert1.ipynb
The model may require a fresh conda environment if using conda. Install all relevant packages, then code should run.
Using Google's BERT model and clustering TF-IDF scores, topics are inferred from the letters of recommendation for each gender and ethnicity.

# demo.ipynb
To run the demo, you need your own api key that you can obtain from your openai account page.
Change the variable, openai.api_key, by replacing the file path with the location of where your key is stored.
Once you run the demo, a pop-up window shows up asking for a name. 
Once the "create" button is clicked, it is going to display a letter of recommendation for the name and a corresponding word cloud.
Note: it takes time until the result shows up as it takes time to retreive results from ChatGPT.

# common_surnames_census_2000.csv
Dataset from the United States Census Bureau containing surnames and proportions of ethnicities

# ssa_names_db.csv
Dataset from the Social Security Administration containing popular baby names and their associated gender

# Usage:
To run the code, you will need all included packages. Generated Letters of Recommendation are stored in file that is read in. If you would like to generate your own letters: replace api key with own and uncomment out code block with title "ChatGPT Response Generating Code
Data saved in CSV file for future use".

# Configuration:
No Configuration needed

# Documentation:
To better understand the United States Census data, name_data_explaination.pdf is included for clarification on how the ethnicity proportions were calculated.
